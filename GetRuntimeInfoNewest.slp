[{"link_serial":114,"update_time":"2019-07-01T13:19:21.321000+00:00","scrub_version":"48f99abcdf450e7c49a04015355fb699f785e8cbf8288d894686a64c6caeddd1","update_user_id":"filip.tanevski@interworks.com.mk","class_fqid":"com-snaplogic-pipeline_9","partition_snode_id":"57b2a479ba6d5613a73ca2c2","target_runtime":"standard","path_id":"/Partners/Interworks/projects_Janku_Popovski_SLTraining","class_version":9,"snode_id":"5d1a085906ffd92d984335bc","snap_map":{"3b142bf9-985e-4afa-855a-82262b7544f3":{"instance_id":"3b142bf9-985e-4afa-855a-82262b7544f3","class_id":"com-snaplogic-snaps-transform-aggregate","class_build_tag":"snapsmrc500","class_fqid":"com-snaplogic-snaps-transform-aggregate_3-snapsmrc500","class_version":3,"property_map":{"info":{"notes":{"value":null},"label":{"value":"Aggregate by State"}},"view_serial":100,"input":{"input0":{"label":{"value":"input0"},"view_type":{"value":"document"}}},"settings":{"integerMode":{"value":false},"aggregateFields":{"value":[{"function":{"value":"COUNT"},"field":{"expression":true,"value":"$state"},"resultField":{"value":"CountOf"}}]},"sortedStreams":{"value":"Unsorted"},"groupByFields":{"value":[{"fieldPath":{"expression":true,"value":"$state"},"fieldName":{"value":"State"}}]}},"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"label":{"value":"output0"},"view_type":{"value":"document"}}}},"instance_fqid":"3b142bf9-985e-4afa-855a-82262b7544f3_1","instance_version":1},"c2ed5b81-de73-4e3d-9236-450e80fc680a":{"instance_id":"c2ed5b81-de73-4e3d-9236-450e80fc680a","class_id":"com-snaplogic-snaps-transform-jsonformatter","class_build_tag":"snapsmrc500","class_fqid":"com-snaplogic-snaps-transform-jsonformatter_2-snapsmrc500","class_version":2,"property_map":{"info":{"notes":{"value":null},"label":{"value":"Detail Formatter"}},"view_serial":100,"input":{"input0":{"view_type":{"value":"document"},"label":{"value":"input0"}}},"settings":{"prettyPrint":{"value":false},"contentPath":{"value":"$"},"jsonLines":{"value":false},"ignoreEmptyStream":{"value":true},"header":{"value":[{"expression":{"expression":true,"value":null},"targetPath":{"value":null}}]},"formatSingleDocument":{"value":false},"schema":{"expression":false,"value":null}},"error":{"error0":{"view_type":{"value":"binary"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"view_type":{"value":"binary"},"label":{"value":"output0"}}}},"instance_fqid":"c2ed5b81-de73-4e3d-9236-450e80fc680a_1","instance_version":1},"d1b32293-a7f0-4299-8cd8-3555da7b01fb":{"instance_id":"d1b32293-a7f0-4299-8cd8-3555da7b01fb","class_id":"com-snaplogic-snaps-transform-datatransform","class_build_tag":"snapsmrc500","class_fqid":"com-snaplogic-snaps-transform-datatransform_4-snapsmrc500","class_version":4,"property_map":{"info":{"notes":{"value":"Captures the pipeline execution parameters for output into the summary file."},"label":{"value":"Mapper"}},"view_serial":100,"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"label":{"value":"output0"},"view_type":{"value":"document"}}},"settings":{"nullSafeAccess":{"value":false},"passThrough":{"value":false},"transformations":{"value":{"mappingTable":{"value":[{"expression":{"expression":true,"value":"\"Execution for State: \" + ( _state == null || _state ==\"\" ? 'UnSpecified/all' : _state) + \", Hours: \" + ( _hours == null || _hours ==\"\" ? 'UnSpecified/1 Hr' : _hours) + \", batchsize:\" + ( _batchsize == null || _batchsize ==\"\" ? 'UnSpecified/10' : _batchsize) + \" at \" + Date.now().toLocaleDateTimeString('{\"format\":\"yyyy-MM-dd HH:mm:ss\"}')"},"targetPath":{"value":"$Execution"}}]},"mappingRoot":{"value":"$"}}}}},"instance_fqid":"d1b32293-a7f0-4299-8cd8-3555da7b01fb_1","instance_version":1},"44b6eebf-ad54-4035-8576-f40bd596ca4e":{"instance_id":"44b6eebf-ad54-4035-8576-f40bd596ca4e","class_id":"com-snaplogic-snaps-transform-csvformatter","class_build_tag":"snapsmrc500","class_fqid":"com-snaplogic-snaps-transform-csvformatter_3-snapsmrc500","class_version":3,"property_map":{"info":{"notes":{"value":null},"label":{"value":"CSV Formatter"}},"view_serial":100,"input":{"input0":{"view_type":{"value":"document"},"label":{"value":"input0"}}},"settings":{"quoteMode":{"value":"ALL"},"quoteCharacter":{"expression":false,"value":null},"writeHeader":{"value":false},"userDefinedHeader":{"value":[]},"charset":{"value":"UTF-8"},"ignoreEmptyStream":{"value":false},"writeBOM":{"value":false},"delimiter":{"expression":false,"value":"."},"newlineCharacter":{"value":"LF"},"useDefinedHeader":{"value":false},"outputHeader":{"value":[{"expression":{"expression":true,"value":null},"targetPath":{"value":null}}]}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"view_type":{"value":"binary"},"label":{"value":"output0"}}}},"instance_fqid":"44b6eebf-ad54-4035-8576-f40bd596ca4e_1","instance_version":1},"c982379c-224c-458b-9b00-a2acd7c3cf86":{"instance_id":"c982379c-224c-458b-9b00-a2acd7c3cf86","class_id":"com-snaplogic-snaps-rest-get","class_build_tag":"snapsmrc500","class_fqid":"com-snaplogic-snaps-rest-get_2-snapsmrc500","class_version":2,"property_map":{"info":{"notes":{"value":"Requires a REST basic auth account, with the user on the platform who has permission to retrieve the executions you want.\n\nThe \"service URL\" used will dynamically configure with either the parameters passed into the execution, or use the defaults of the pipeline, for state, hours and batchsize.\n\nThe \"Has Next\" and \"NExt URL\" have been configured to dynamically use the parameters passed in to the pipeline, or defaults."},"label":{"value":"Get Executions"}},"view_serial":100,"account":{"account_ref":{"expression":false,"value":{"label":{"expression":false,"value":"FrameworkAcc"},"ref_class_id":{"value":"com-snaplogic-snaps-rest-restbasicauthaccount"},"ref_id":{"expression":false,"value":"5e21e1f5-0176-4316-bf0f-9c11da2eb40b"}}}},"settings":{"retryInterval":{"value":3},"trustAllCerts":{"value":true},"execution_mode":{"value":"Validate & Execute"},"retry":{"value":5},"hasNext":{"expression":true,"value":"$entity.response_map.offset + $entity.response_map.limit <  $entity.response_map.total"},"timeout":{"value":900},"processArray":{"value":false},"nextUrl":{"expression":true,"value":"'https://elastic.snaplogic.com/api/1/rest/public/runtime/' + pipe.plexPath.split('/')[1] + '?level=summary' + 'https://elastic.snaplogic.com/api/1/rest/public/runtime/' + pipe.plexPath.split('/')[1] + '?level=summary' + (_state == null || _state ==\"\" ? '' : '&state='+ _state) + (_hours == null || _hours ==\"\" ? '' : '&last_hours='+ _hours) + '&offset=' + ($entity.response_map.offset+$entity.response_map.limit) + (_batchsize == null || _batchsize ==\"\" ? '' : '&limit='+ _batchsize)"},"showAllHeaders":{"value":true},"paginationInterval":{"value":0},"executeDuringPreview":{"value":true},"header":{"value":[]},"responseEntityType":{"value":"DEFAULT"},"followRedirects":{"value":false},"serviceUrl":{"expression":true,"value":"'https://elastic.snaplogic.com/api/1/rest/public/runtime/' + pipe.plexPath.split('/')[1] + '?level=summary' + (_state == null || _state ==\"\" ? '' : '&state='+ _state) + (_hours == null || _hours ==\"\" ? '' : '&last_hours='+ _hours) + (_batchsize == null || _batchsize ==\"\" ? '' : '&limit='+ _batchsize)"},"connTimeout":{"value":30},"queryParams":{"value":[]},"rawData":{"value":false}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"view_type":{"value":"document"},"label":{"value":"output0"}}}},"instance_fqid":"c982379c-224c-458b-9b00-a2acd7c3cf86_1","instance_version":1},"3fb17be3-f79a-48e1-8cc8-8ca41c497ab9":{"instance_id":"3fb17be3-f79a-48e1-8cc8-8ca41c497ab9","class_id":"com-snaplogic-snaps-binary-write","class_build_tag":"snapsmrc500","class_fqid":"com-snaplogic-snaps-binary-write_3-snapsmrc500","class_version":3,"property_map":{"info":{"notes":{"value":"Writes the two input documents, the first should contain the execution time and parameters, the second document containing the aggregated statistics for execution state."},"label":{"value":"Aggregate Writer"}},"view_serial":100,"account":{"account_ref":{"expression":false,"value":{}}},"settings":{"createDir":{"value":false},"retries":{"value":0},"execution_mode":{"value":"Execute only"},"flushIntervalKb":{"value":-1},"writeHeader":{"value":false},"executable_during_suggest":{"value":false},"filename":{"expression":false,"value":"stateSummary.json"},"writeEmptyFile":{"value":false},"UserPermissionsKey":{"value":[]},"validate":{"value":false},"fileAction":{"value":"OVERWRITE"}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"input":{"input0":{"view_type":{"value":"binary"},"label":{"value":"input0"}}}},"instance_fqid":"3fb17be3-f79a-48e1-8cc8-8ca41c497ab9_1","instance_version":1},"3f560a24-002d-42ab-8d2d-c0f6a25fb7dd":{"instance_id":"3f560a24-002d-42ab-8d2d-c0f6a25fb7dd","class_id":"com-snaplogic-snaps-flow-copy","class_build_tag":"snapsmrc500","class_fqid":"com-snaplogic-snaps-flow-copy_1-snapsmrc500","class_version":1,"property_map":{"info":{"notes":{"value":"Copies the pipeline execution results so we can both store the results, and aggregate to create a summary of the time period."},"label":{"value":"Copy"}},"view_serial":100,"input":{"input0":{"label":{"value":"input0"},"view_type":{"value":"document"}}},"settings":{},"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"label":{"value":"output0"},"view_type":{"value":"document"}},"output1":{"label":{"value":"output1"},"view_type":{"value":"document"}}}},"instance_fqid":"3f560a24-002d-42ab-8d2d-c0f6a25fb7dd_1","instance_version":1},"8c172b70-47ea-47e9-880f-3858e7589f16":{"instance_id":"8c172b70-47ea-47e9-880f-3858e7589f16","class_id":"com-snaplogic-snaps-flow-union","class_build_tag":"snapsmrc500","class_fqid":"com-snaplogic-snaps-flow-union_2-snapsmrc500","class_version":2,"property_map":{"info":{"label":{"value":"Union"}},"view_serial":100,"input":{"input0":{"label":{"value":"input0"},"view_type":{"value":"document"}},"input1":{"label":{"value":"input1"},"view_type":{"value":"document"}}},"settings":{},"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"label":{"value":"output0"},"view_type":{"value":"document"}}}},"instance_fqid":"8c172b70-47ea-47e9-880f-3858e7589f16_1","instance_version":1},"321e0f64-fc79-40fb-b5d2-592bea6cf3c2":{"instance_id":"321e0f64-fc79-40fb-b5d2-592bea6cf3c2","class_id":"com-snaplogic-snaps-transform-jsonsplitter","class_build_tag":"snapsmrc500","class_fqid":"com-snaplogic-snaps-transform-jsonsplitter_1-snapsmrc500","class_version":1,"property_map":{"info":{"notes":{"value":"The output of the REST Get on the SnapLogic platform outputs the response such that we need to split out the pipelines, which this Snap is configured to break out the responses into a single document per pipeline execution"},"label":{"value":"Split Responses"}},"view_serial":100,"input":{"input0":{"view_type":{"value":"document"},"label":{"value":"input0"}}},"settings":{"nullSafeAccess":{"value":false},"includeParents":{"value":false},"includePaths":{"value":[]},"path":{"value":"$entity.response_map.entries[*]"}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"view_type":{"value":"document"},"label":{"value":"output0"}}}},"instance_fqid":"321e0f64-fc79-40fb-b5d2-592bea6cf3c2_1","instance_version":1},"ae491d65-6bab-426c-b105-daab725bae28":{"instance_id":"ae491d65-6bab-426c-b105-daab725bae28","class_id":"com-snaplogic-snaps-binary-write","class_build_tag":"snapsmrc500","class_fqid":"com-snaplogic-snaps-binary-write_3-snapsmrc500","class_version":3,"property_map":{"info":{"notes":{"value":null},"label":{"value":"Detail Writer"}},"view_serial":100,"account":{"account_ref":{"expression":false,"value":{}}},"settings":{"createDir":{"value":false},"retries":{"value":0},"execution_mode":{"value":"Execute only"},"flushIntervalKb":{"value":-1},"writeHeader":{"value":false},"executable_during_suggest":{"value":false},"filename":{"expression":false,"value":"ExecutionsDetail.json"},"writeEmptyFile":{"value":false},"UserPermissionsKey":{"value":[]},"validate":{"value":false},"fileAction":{"value":"OVERWRITE"}},"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"fail"}},"input":{"input0":{"label":{"value":"input0"},"view_type":{"value":"binary"}}}},"instance_fqid":"ae491d65-6bab-426c-b105-daab725bae28_1","instance_version":1}},"org_snode_id":"55aeb42a050186140d44b424","path":"/Partners/Interworks/projects_Janku_Popovski_SLTraining/GetRuntimeInfo","instance_version":1,"migrate_version":"master-5335","scrub_backup":[],"create_user_id":"filip.tanevski@interworks.com.mk","name":"GetRuntimeInfo","project_snode_id":"5d1a0793b4e5bc28f105e429","property_map":{"info":{"notes":{"value":"This pipeline may be used to retrieve the summary runtime execution details.  \nThere are 3 parameters:\nhours:- how many hours (from execution time) do you want to retrieve?  (Max is 216 - 90 days, this is by default set to 24)\nstate:- The possible set of states is Queued, NoUpdate,, Prepared, Started, Completed, Stopped, Stopping, Suspending, Suspended, and Resuming.  This defaults to Completed\nbatchsize:- the queries to the SnapLogic platform will retrieve the responses in batches, this value, which defaults in the pipeline to 50, may go up 1000."},"label":{"value":"GetRuntimeInfo"},"purpose":{"value":"Retrieves pipeline execution summary."},"pipeline_doc_uri":{"value":null},"author":{"value":"snaplogic.training2@interworks.com.mk"}},"output":{},"error":{"error_behavior":{"value":"none"}},"input":{},"settings":{"imports":{"value":[]},"error_pipeline":{"expression":false,"value":null},"error_param_table":{"value":[]},"param_table":{"value":[{"capture":{"value":true},"description":{"value":null},"data_type":{"value":"string"},"required":{"value":false},"value":{"value":"Completed"},"key":{"value":"state"}},{"capture":{"value":true},"description":{"value":null},"data_type":{"value":"string"},"required":{"value":false},"value":{"value":"24"},"key":{"value":"hours"}},{"capture":{"value":true},"description":{"value":null},"data_type":{"value":"string"},"required":{"value":false},"value":{"value":"50"},"key":{"value":"batchsize"}}]},"suspendable":{"value":false}}},"render_map":{"pan_x_num":0,"default_snaplex":"58884c6fa87b6d6f789f4397","scale_ratio":1,"detail_map":{"3b142bf9-985e-4afa-855a-82262b7544f3":{"grid_x_int":5,"input":{},"index":null,"recommendation_id":null,"source":"snap catagory","grid_y_int":2,"rot_tail_int":0,"error":{},"output":{},"rot_int":0},"c2ed5b81-de73-4e3d-9236-450e80fc680a":{"grid_x_int":5,"input":{},"index":null,"recommendation_id":null,"source":"snap catagory","grid_y_int":3,"rot_tail_int":0,"error":{},"output":{},"rot_int":0},"d1b32293-a7f0-4299-8cd8-3555da7b01fb":{"grid_x_int":5,"input":{},"index":null,"recommendation_id":null,"source":"snap catagory","grid_y_int":1,"rot_tail_int":0,"error":{},"output":{},"rot_int":0},"44b6eebf-ad54-4035-8576-f40bd596ca4e":{"grid_x_int":7,"input":{},"index":null,"recommendation_id":null,"source":"snap catagory","grid_y_int":1,"rot_tail_int":0,"error":{},"output":{},"rot_int":0},"c982379c-224c-458b-9b00-a2acd7c3cf86":{"grid_x_int":2,"input":{},"index":null,"recommendation_id":null,"source":"snap catagory","grid_y_int":2,"rot_tail_int":0,"error":{},"output":{},"rot_int":0},"3fb17be3-f79a-48e1-8cc8-8ca41c497ab9":{"grid_x_int":8,"input":{},"index":null,"recommendation_id":null,"source":"snap catagory","grid_y_int":1,"rot_tail_int":0,"error":{},"output":{},"rot_int":0},"3f560a24-002d-42ab-8d2d-c0f6a25fb7dd":{"grid_x_int":4,"index":null,"recommendation_id":null,"output":{"output1":{"dx_int":0,"rot_int":0,"dy_int":1}},"source":"snap catagory","grid_y_int":2,"rot_tail_int":0,"error":{},"input":{},"rot_int":0},"8c172b70-47ea-47e9-880f-3858e7589f16":{"grid_x_int":6,"index":null,"recommendation_id":null,"output":{},"source":"snap catagory","grid_y_int":1,"rot_tail_int":0,"error":{},"input":{"input1":{"dx_int":0,"rot_int":0,"dy_int":1}},"rot_int":0},"321e0f64-fc79-40fb-b5d2-592bea6cf3c2":{"grid_x_int":3,"input":{},"index":1,"recommendation_id":"d1f6268b-b49f-4741-946c-778792d1955d_0","source":"iris panel","grid_y_int":2,"rot_tail_int":0,"error":{},"output":{},"rot_int":0},"ae491d65-6bab-426c-b105-daab725bae28":{"grid_x_int":6,"input":{},"index":null,"recommendation_id":null,"source":"snap catagory","grid_y_int":3,"rot_tail_int":0,"error":{},"output":{},"rot_int":0}},"pan_y_num":0},"org_id":"55aeb42a050186140d44b424","instance_id":"a228d3fa-a8f6-46d9-9afa-6ff4236cd4a1","class_id":"com-snaplogic-pipeline","create_time":"2019-07-01T13:19:21.075000+00:00","instance_fqid":"a228d3fa-a8f6-46d9-9afa-6ff4236cd4a1_1","link_map":{"link111":{"src_view_id":"output0","dst_view_id":"input1","src_id":"3b142bf9-985e-4afa-855a-82262b7544f3","dst_id":"8c172b70-47ea-47e9-880f-3858e7589f16"},"link110":{"src_view_id":"output0","dst_view_id":"input0","src_id":"3f560a24-002d-42ab-8d2d-c0f6a25fb7dd","dst_id":"3b142bf9-985e-4afa-855a-82262b7544f3"},"link113":{"src_view_id":"output0","dst_view_id":"input0","src_id":"8c172b70-47ea-47e9-880f-3858e7589f16","dst_id":"44b6eebf-ad54-4035-8576-f40bd596ca4e"},"link112":{"src_view_id":"output0","dst_view_id":"input0","src_id":"44b6eebf-ad54-4035-8576-f40bd596ca4e","dst_id":"3fb17be3-f79a-48e1-8cc8-8ca41c497ab9"},"link108":{"src_view_id":"output0","dst_view_id":"input0","src_id":"d1b32293-a7f0-4299-8cd8-3555da7b01fb","dst_id":"8c172b70-47ea-47e9-880f-3858e7589f16"},"link106":{"src_view_id":"output1","dst_view_id":"input0","src_id":"3f560a24-002d-42ab-8d2d-c0f6a25fb7dd","dst_id":"c2ed5b81-de73-4e3d-9236-450e80fc680a"},"link107":{"src_view_id":"output0","dst_view_id":"input0","src_id":"c2ed5b81-de73-4e3d-9236-450e80fc680a","dst_id":"ae491d65-6bab-426c-b105-daab725bae28"},"link105":{"src_view_id":"output0","dst_view_id":"input0","src_id":"321e0f64-fc79-40fb-b5d2-592bea6cf3c2","dst_id":"3f560a24-002d-42ab-8d2d-c0f6a25fb7dd"},"link100":{"src_view_id":"output0","dst_view_id":"input0","src_id":"c982379c-224c-458b-9b00-a2acd7c3cf86","dst_id":"321e0f64-fc79-40fb-b5d2-592bea6cf3c2"}},"original":{"partition_snode_id":"57b2a479ba6d5613a73ca2c2","updated_by":"filip.tanevski@interworks.com.mk","perms":["A","R","W","X"],"time_created":"2019-07-01T13:19:21.321000+00:00","snode_id":"5d1a085906ffd92d984335bc","lease_info":{},"owner":"filip.tanevski@interworks.com.mk","path":"/Partners/Interworks/projects_Janku_Popovski_SLTraining/GetRuntimeInfo","asset_type":"Pipeline","asset_id":"a228d3fa-a8f6-46d9-9afa-6ff4236cd4a1","time_updated":"2019-07-01T13:19:21.321000+00:00","name":"GetRuntimeInfo","parent_snode_id":"5d1a0793b4e5bc28f105e429","acl":[],"metadata":{},"time_leased":null}}]